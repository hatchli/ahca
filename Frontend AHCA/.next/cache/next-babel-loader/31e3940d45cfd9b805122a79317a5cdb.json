{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\CreateItem.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation CREATE_ITEM_MUTATION(\\n    $title: String!\\n    $description: String!\\n    $features: [FeatureInput!]\\n    $highlights: [HighlightInput!]\\n    $sale: Boolean\\n    $categories: [Category]\\n    $price: Int!\\n    $promo: [ValidPromoCodes]\\n    $image: String\\n    $largeImage: String\\n    $image1: String\\n    $largeImage1: String\\n    $image2: String\\n    $largeImage2: String\\n  ) {\\n    createItem(\\n      title: $title\\n      description: $description\\n      features: $features\\n      highlights: $highlights\\n      sale: $sale\\n      categories: $categories\\n      price: $price\\n      promo: $promo\\n      image: $image\\n      largeImage: $largeImage\\n      image1: $image1\\n      largeImage1: $largeImage1\\n      image2: $image2\\n      largeImage2: $largeImage2\\n    ) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport { Box, Flex } from \"rebass\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Router from \"next/router\";\nimport Form from \"./styles/Form\";\nimport Error from \"./ErrorMessage\";\nimport WidthStyles from \"./styles/WidthStyles\";\nvar possibleCategories = [\"AIRCONDITIONER\", \"FURNACE\", \"WHOLEHOMEMANIFOLD\", \"TANKLESSWATERSYSTEM\", \"WATERSOFTENER\", \"WATERFILTRATION\", \"PLUMBING\", \"HEATPUMP\", \"DUCTLESSMINISPLIT\"];\nvar promoCodes = [\"LACOUNTY2020\", \"SFCOUNTY2020\"];\nvar CREATE_ITEM_MUTATION = gql(_templateObject());\n\nvar CreateItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateItem, _Component);\n\n  function CreateItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      title: \"\",\n      description: \"\",\n      features: [\"\"],\n      highlights: [\"\"],\n      sale: false,\n      categories: \"\",\n      imageArray: [],\n      largeImageArray: [],\n      image: \"\",\n      largeImage: \"\",\n      image1: \"\",\n      largeImage1: \"\",\n      image2: \"\",\n      largeImage2: \"\",\n      price: 0,\n      promo: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      console.log(\"value: \", e.target.value);\n      console.log(\"name: \", e.target.name);\n      var _e$target = e.target,\n          name = _e$target.name,\n          type = _e$target.type,\n          value = _e$target.value;\n      var val = type === \"number\" ? _parseFloat(value) : value;\n      console.log(\"name: \", name, \"val: \", val);\n\n      _this.setState(_defineProperty({}, name, val));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFeatureArrayChange\", function (e) {\n      var _e$target2 = e.target,\n          name = _e$target2.name,\n          type = _e$target2.type,\n          value = _e$target2.value;\n      type == \"features\" ? _this.setState(function (prevState) {\n        return {\n          features: prevState.features.map(function (feat, key) {\n            if (key == name) {\n              return value;\n            } else return feat;\n          })\n        };\n      }) : _this.setState(function (prevState) {\n        return {\n          highlights: prevState.highlights.map(function (highlight, key) {\n            if (key == name) {\n              return value;\n            } else return highlight;\n          })\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"keyPress\", function (e) {\n      var _e$target3 = e.target,\n          name = _e$target3.name,\n          type = _e$target3.type;\n      console.log(type);\n\n      if (e.keyCode == 13 && type == \"features\") {\n        console.log(\"triggered key press for features\");\n\n        _this.setState({\n          features: _this.state.features.concat(\"\")\n        });\n      }\n\n      if (e.keyCode == 13 && type == \"highlights\") {\n        console.log(\"triggered key press for features\");\n\n        _this.setState({\n          highlights: _this.state.highlights.concat(\"\")\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleArrayChange\", function (e) {\n      _this.setState({\n        promo: _Array$from(e.target.selectedOptions, function (item) {\n          return item.value;\n        })\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"uploadFileHandler\", function _callee2(e) {\n      var files, data;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(\"... uploading\");\n              files = e.target.files;\n              data = new FormData();\n\n              _Array$from(files).map(function _callee(file) {\n                var res, fileResp;\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        data.append(\"file\", file);\n                        data.append(\"upload_preset\", \"americansavings\");\n                        _context.next = 4;\n                        return _regeneratorRuntime.awrap(fetch(\"https://api.cloudinary.com/v1_1/americansavings/image/upload\", {\n                          method: \"POST\",\n                          body: data\n                        }));\n\n                      case 4:\n                        res = _context.sent;\n                        _context.next = 7;\n                        return _regeneratorRuntime.awrap(res.json());\n\n                      case 7:\n                        fileResp = _context.sent;\n                        console.log(\"fileResp\", fileResp);\n\n                        if (!fileResp.error) {\n                          _this.setState(function (prevState) {\n                            return _objectSpread({}, prevState, {\n                              imageArray: [].concat(_toConsumableArray(prevState.imageArray), [fileResp.secure_url]),\n                              largeImageArray: [].concat(_toConsumableArray(prevState.largeImageArray), [fileResp.eager[0].secure_url])\n                            });\n                          });\n                        } else {\n                          _this.setState(function (prevState) {\n                            return _objectSpread({}, prevState, {\n                              imageArray: _toConsumableArray(prevState.image),\n                              largeImageArray: _toConsumableArray(prevState.largeImage)\n                            });\n                          });\n                        }\n\n                      case 10:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                });\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(CreateItem, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      console.log(\"prevState\", prevState.imageArray);\n      console.log(\"state of imageArray\", this.state.imageArray);\n\n      if (this.state.imageArray !== prevState.imageArray) {\n        this.setState(function (prevState) {\n          return _objectSpread({}, prevState, {\n            image: _this2.state.imageArray[0],\n            largeImage: _this2.state.largeImageArray[0],\n            image1: _this2.state.imageArray[1],\n            largeImage1: _this2.state.largeImageArray[1],\n            image2: _this2.state.imageArray[2],\n            largeImage2: _this2.state.largeImageArray[2]\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(WidthStyles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, __jsx(Mutation, {\n        mutation: CREATE_ITEM_MUTATION,\n        variables: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, function (createItem, _ref) {\n        var loading = _ref.loading,\n            error = _ref.error;\n        return __jsx(Form, {\n          \"data-test\": \"form\",\n          onSubmit: function _callee3(e) {\n            var res;\n            return _regeneratorRuntime.async(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    // Stop the form from submitting\n                    e.preventDefault();\n                    _context3.next = 3;\n                    return _regeneratorRuntime.awrap(createItem());\n\n                  case 3:\n                    res = _context3.sent;\n                    // change them to the single item page\n                    console.log(res);\n                    Router.push({\n                      pathname: \"/item\",\n                      query: {\n                        id: res.data.createItem.id\n                      }\n                    });\n\n                  case 6:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, __jsx(Error, {\n          error: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }), __jsx(\"fieldset\", {\n          disabled: loading,\n          \"aria-busy\": loading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, __jsx(Flex, {\n          px: 2,\n          justifyContent: \"space-between\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, __jsx(\"label\", {\n          htmlFor: \"file\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"Images\", __jsx(\"input\", {\n          multiple: true,\n          type: \"file\",\n          id: \"file\",\n          name: \"file\",\n          placeholder: \"Upload an image\",\n          required: true,\n          onChange: _this3.uploadFileHandler,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }))), __jsx(\"label\", {\n          htmlFor: \"title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"Title\", __jsx(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          name: \"title\",\n          placeholder: \"Title\",\n          required: true,\n          value: _this3.state.title,\n          onChange: _this3.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        })), __jsx(\"label\", {\n          htmlFor: \"price\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, \"Price\", __jsx(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          placeholder: \"Price\",\n          required: true,\n          value: _this3.state.price,\n          onChange: _this3.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        })), __jsx(\"label\", {\n          htmlFor: \"sale\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        }, \"Sale\", __jsx(\"input\", {\n          type: \"checkbox\",\n          id: \"sale\",\n          name: \"sale\",\n          value: _this3.state.sale,\n          onChange: function onChange() {\n            _this3.setState({\n              sale: !_this3.state.value\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        })), __jsx(\"label\", {\n          htmlFor: \"categories\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271\n          },\n          __self: this\n        }, \"Category\", __jsx(\"select\", {\n          value: _this3.state.categories,\n          name: \"categories\",\n          id: \"categories\",\n          onChange: _this3.handleChange,\n          multiple: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, possibleCategories.map(function (category) {\n          return __jsx(\"option\", {\n            key: category,\n            value: category,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 281\n            },\n            __self: this\n          }, category);\n        }))), __jsx(\"label\", {\n          htmlFor: \"categories\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 287\n          },\n          __self: this\n        }, \"Promo\", __jsx(\"select\", {\n          value: _this3.state.promo,\n          name: \"promo\",\n          id: \"promo\" // type=\"array\"\n          ,\n          onChange: _this3.handleArrayChange,\n          multiple: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, promoCodes.map(function (promo) {\n          return __jsx(\"option\", {\n            key: promo.id,\n            value: promo,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 298\n            },\n            __self: this\n          }, promo);\n        }))), __jsx(\"label\", {\n          htmlFor: \"description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 305\n          },\n          __self: this\n        }, \"Description\", __jsx(\"textarea\", {\n          id: \"description\",\n          name: \"description\",\n          placeholder: \"Enter A Description\",\n          required: true,\n          value: _this3.state.description,\n          onChange: _this3.handleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307\n          },\n          __self: this\n        })), __jsx(\"label\", {\n          htmlFor: \"features\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, \"Features\", _this3.state.features.map(function (feature, i) {\n          return __jsx(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          }, __jsx(\"textarea\", {\n            key: i,\n            type: \"features\",\n            placeholder: \"\".concat(feature) // supply a unique \"name\" attribute using string interpolation\n            ,\n            name: i,\n            value: _this3.state.features[i],\n            onChange: _this3.handleFeatureArrayChange,\n            onKeyDown: _this3.keyPress,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320\n            },\n            __self: this\n          }));\n        })), __jsx(\"label\", {\n          htmlFor: \"highlights\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, \"Highlights\", _this3.state.highlights.map(function (highlight, i) {\n          return __jsx(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 336\n            },\n            __self: this\n          }, __jsx(\"textarea\", {\n            key: i,\n            type: \"highlights\",\n            placeholder: \"\".concat(highlight) // supply a unique \"name\" attribute using string interpolation\n            ,\n            name: i,\n            value: _this3.state.highlights[i],\n            onChange: _this3.handleFeatureArrayChange,\n            onKeyDown: _this3.keyPress,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 337\n            },\n            __self: this\n          }));\n        })), __jsx(\"button\", {\n          type: \"submit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, \"Submit\")));\n      }));\n    }\n  }]);\n\n  return CreateItem;\n}(Component);\n\nexport default CreateItem;\nexport { CREATE_ITEM_MUTATION };","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/CreateItem.js"],"names":["React","Component","Box","Flex","Mutation","gql","Router","Form","Error","WidthStyles","possibleCategories","promoCodes","CREATE_ITEM_MUTATION","CreateItem","title","description","features","highlights","sale","categories","imageArray","largeImageArray","image","largeImage","image1","largeImage1","image2","largeImage2","price","promo","e","console","log","target","value","name","type","val","setState","prevState","map","feat","key","highlight","keyCode","state","concat","selectedOptions","item","files","data","FormData","file","append","fetch","method","body","res","json","fileResp","error","secure_url","eager","prevProps","createItem","loading","preventDefault","push","pathname","query","id","uploadFileHandler","handleChange","category","handleArrayChange","feature","i","handleFeatureArrayChange","keyPress"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Box, Flex } from \"rebass\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport Router from \"next/router\";\r\nimport Form from \"./styles/Form\";\r\nimport Error from \"./ErrorMessage\";\r\nimport WidthStyles from \"./styles/WidthStyles\";\r\n\r\nconst possibleCategories = [\r\n  \"AIRCONDITIONER\",\r\n  \"FURNACE\",\r\n  \"WHOLEHOMEMANIFOLD\",\r\n  \"TANKLESSWATERSYSTEM\",\r\n  \"WATERSOFTENER\",\r\n  \"WATERFILTRATION\",\r\n  \"PLUMBING\",\r\n  \"HEATPUMP\",\r\n  \"DUCTLESSMINISPLIT\"\r\n];\r\n\r\nconst promoCodes = [\"LACOUNTY2020\", \"SFCOUNTY2020\"];\r\n\r\nconst CREATE_ITEM_MUTATION = gql`\r\n  mutation CREATE_ITEM_MUTATION(\r\n    $title: String!\r\n    $description: String!\r\n    $features: [FeatureInput!]\r\n    $highlights: [HighlightInput!]\r\n    $sale: Boolean\r\n    $categories: [Category]\r\n    $price: Int!\r\n    $promo: [ValidPromoCodes]\r\n    $image: String\r\n    $largeImage: String\r\n    $image1: String\r\n    $largeImage1: String\r\n    $image2: String\r\n    $largeImage2: String\r\n  ) {\r\n    createItem(\r\n      title: $title\r\n      description: $description\r\n      features: $features\r\n      highlights: $highlights\r\n      sale: $sale\r\n      categories: $categories\r\n      price: $price\r\n      promo: $promo\r\n      image: $image\r\n      largeImage: $largeImage\r\n      image1: $image1\r\n      largeImage1: $largeImage1\r\n      image2: $image2\r\n      largeImage2: $largeImage2\r\n    ) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nclass CreateItem extends Component {\r\n  state = {\r\n    title: \"\",\r\n    description: \"\",\r\n    features: [\"\"],\r\n    highlights: [\"\"],\r\n    sale: false,\r\n    categories: \"\",\r\n    imageArray: [],\r\n    largeImageArray: [],\r\n    image: \"\",\r\n    largeImage: \"\",\r\n    image1: \"\",\r\n    largeImage1: \"\",\r\n    image2: \"\",\r\n    largeImage2: \"\",\r\n    price: 0,\r\n    promo: []\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\"prevState\", prevState.imageArray);\r\n    console.log(\"state of imageArray\", this.state.imageArray);\r\n    if (this.state.imageArray !== prevState.imageArray) {\r\n      this.setState(prevState => ({\r\n        ...prevState,\r\n        image: this.state.imageArray[0],\r\n        largeImage: this.state.largeImageArray[0],\r\n        image1: this.state.imageArray[1],\r\n        largeImage1: this.state.largeImageArray[1],\r\n        image2: this.state.imageArray[2],\r\n        largeImage2: this.state.largeImageArray[2]\r\n      }));\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    console.log(\"value: \", e.target.value);\r\n    console.log(\"name: \", e.target.name);\r\n    const { name, type, value } = e.target;\r\n    const val = type === \"number\" ? parseFloat(value) : value;\r\n    console.log(\"name: \", name, \"val: \", val);\r\n    this.setState({ [name]: val });\r\n  };\r\n\r\n  handleFeatureArrayChange = e => {\r\n    const { name, type, value } = e.target;\r\n    type == \"features\"\r\n      ? this.setState(prevState => ({\r\n          features: prevState.features.map((feat, key) => {\r\n            if (key == name) {\r\n              return value;\r\n            } else return feat;\r\n          })\r\n        }))\r\n      : this.setState(prevState => ({\r\n          highlights: prevState.highlights.map((highlight, key) => {\r\n            if (key == name) {\r\n              return value;\r\n            } else return highlight;\r\n          })\r\n        }));\r\n  };\r\n\r\n  keyPress = e => {\r\n    const { name, type } = e.target;\r\n    console.log(type);\r\n    if (e.keyCode == 13 && type == \"features\") {\r\n      console.log(\"triggered key press for features\");\r\n      this.setState({\r\n        features: this.state.features.concat(\"\")\r\n      });\r\n    }\r\n    if (e.keyCode == 13 && type == \"highlights\") {\r\n      console.log(\"triggered key press for features\");\r\n      this.setState({\r\n        highlights: this.state.highlights.concat(\"\")\r\n      });\r\n    }\r\n  };\r\n\r\n  handleArrayChange = e => {\r\n    this.setState({\r\n      promo: Array.from(e.target.selectedOptions, item => item.value)\r\n    });\r\n  };\r\n\r\n  // handleFeatureHighlightChange = e => {\r\n  //   const { name, type, value } = e.target;\r\n  //   this.setState(state => ({\r\n  //     features: Array.from(value.split(\"\\n\"))\r\n  //   }));\r\n  // };\r\n\r\n  uploadFileHandler = async e => {\r\n    console.log(\"... uploading\");\r\n    const files = e.target.files;\r\n\r\n    const data = new FormData();\r\n    Array.from(files).map(async file => {\r\n      data.append(\"file\", file);\r\n      data.append(\"upload_preset\", \"americansavings\");\r\n\r\n      const res = await fetch(\r\n        \"https://api.cloudinary.com/v1_1/americansavings/image/upload\",\r\n        {\r\n          method: \"POST\",\r\n          body: data\r\n        }\r\n      );\r\n      const fileResp = await res.json();\r\n      console.log(\"fileResp\", fileResp);\r\n\r\n      if (!fileResp.error) {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          imageArray: [...prevState.imageArray, fileResp.secure_url],\r\n          largeImageArray: [\r\n            ...prevState.largeImageArray,\r\n            fileResp.eager[0].secure_url\r\n          ]\r\n        }));\r\n      } else {\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          imageArray: [...prevState.image],\r\n          largeImageArray: [...prevState.largeImage]\r\n        }));\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <WidthStyles>\r\n        <Mutation mutation={CREATE_ITEM_MUTATION} variables={this.state}>\r\n          {(createItem, { loading, error }) => (\r\n            <Form\r\n              data-test=\"form\"\r\n              onSubmit={async e => {\r\n                // Stop the form from submitting\r\n                e.preventDefault();\r\n                const res = await createItem();\r\n                // change them to the single item page\r\n                console.log(res);\r\n                Router.push({\r\n                  pathname: \"/item\",\r\n                  query: { id: res.data.createItem.id }\r\n                });\r\n              }}\r\n            >\r\n              <Error error={error} />\r\n              <fieldset disabled={loading} aria-busy={loading}>\r\n                <Flex px={2} justifyContent=\"space-between\">\r\n                  <label htmlFor=\"file\">\r\n                    Images\r\n                    <input\r\n                      multiple\r\n                      type=\"file\"\r\n                      id=\"file\"\r\n                      name=\"file\"\r\n                      placeholder=\"Upload an image\"\r\n                      required\r\n                      onChange={this.uploadFileHandler}\r\n                    />\r\n                    {/* {this.state.image &&\r\n                      this.state.image.map(image => (\r\n                        <img width=\"200\" src={image} alt=\"Upload Preview\" />\r\n                      ))} */}\r\n                  </label>\r\n                </Flex>\r\n\r\n                <label htmlFor=\"title\">\r\n                  Title\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"title\"\r\n                    name=\"title\"\r\n                    placeholder=\"Title\"\r\n                    required\r\n                    value={this.state.title}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </label>\r\n\r\n                <label htmlFor=\"price\">\r\n                  Price\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"price\"\r\n                    name=\"price\"\r\n                    placeholder=\"Price\"\r\n                    required\r\n                    value={this.state.price}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </label>\r\n                <label htmlFor=\"sale\">\r\n                  Sale\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"sale\"\r\n                    name=\"sale\"\r\n                    value={this.state.sale}\r\n                    onChange={() => {\r\n                      this.setState({ sale: !this.state.value });\r\n                    }}\r\n                  />\r\n                </label>\r\n                <label htmlFor=\"categories\">\r\n                  Category\r\n                  <select\r\n                    value={this.state.categories}\r\n                    name=\"categories\"\r\n                    id=\"categories\"\r\n                    onChange={this.handleChange}\r\n                    multiple={false}\r\n                  >\r\n                    {possibleCategories.map(category => (\r\n                      <option key={category} value={category}>\r\n                        {category}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n                <label htmlFor=\"categories\">\r\n                  Promo\r\n                  <select\r\n                    value={this.state.promo}\r\n                    name=\"promo\"\r\n                    id=\"promo\"\r\n                    // type=\"array\"\r\n                    onChange={this.handleArrayChange}\r\n                    multiple\r\n                  >\r\n                    {promoCodes.map(promo => (\r\n                      <option key={promo.id} value={promo}>\r\n                        {promo}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </label>\r\n\r\n                <label htmlFor=\"description\">\r\n                  Description\r\n                  <textarea\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    placeholder=\"Enter A Description\"\r\n                    required\r\n                    value={this.state.description}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </label>\r\n                <label htmlFor=\"features\">\r\n                  Features\r\n                  {this.state.features.map((feature, i) => (\r\n                    <div key={i}>\r\n                      <textarea\r\n                        key={i}\r\n                        type=\"features\"\r\n                        placeholder={`${feature}`}\r\n                        // supply a unique \"name\" attribute using string interpolation\r\n                        name={i}\r\n                        value={this.state.features[i]}\r\n                        onChange={this.handleFeatureArrayChange}\r\n                        onKeyDown={this.keyPress}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </label>\r\n                <label htmlFor=\"highlights\">\r\n                  Highlights\r\n                  {this.state.highlights.map((highlight, i) => (\r\n                    <div key={i}>\r\n                      <textarea\r\n                        key={i}\r\n                        type=\"highlights\"\r\n                        placeholder={`${highlight}`}\r\n                        // supply a unique \"name\" attribute using string interpolation\r\n                        name={i}\r\n                        value={this.state.highlights[i]}\r\n                        onChange={this.handleFeatureArrayChange}\r\n                        onKeyDown={this.keyPress}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </label>\r\n                <button type=\"submit\">Submit</button>\r\n              </fieldset>\r\n            </Form>\r\n          )}\r\n        </Mutation>\r\n      </WidthStyles>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateItem;\r\nexport { CREATE_ITEM_MUTATION };\r\n"]},"metadata":{},"sourceType":"module"}