{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\OrderList.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query USER_ORDERS_QUERY {\\n    orders(orderBy: createdAt_DESC) {\\n      id\\n      total\\n      createdAt\\n      items {\\n        id\\n        title\\n        price\\n        description\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { Query } from \"react-apollo\";\nimport { formatDistance } from \"date-fns\";\nimport parseISO from \"date-fns/parseISO\";\nimport gql from \"graphql-tag\";\nimport Link from \"next/link\";\nimport styled from \"styled-components\";\nimport formatMoney from \"../lib/formatMoney\";\nimport OrderItemStyles from \"./styles/OrderItemStyles\";\nimport Error from \"./ErrorMessage\";\nimport WidthStyles from \"./styles/WidthStyles\";\nvar USER_ORDERS_QUERY = gql(_templateObject());\nvar OrderUl = styled.ul.withConfig({\n  displayName: \"OrderList__OrderUl\",\n  componentId: \"rwafy5-0\"\n})([\"display:grid;grid-gap:4rem;grid-template-columns:repeat(auto-fit,minmax(40%,1fr));\"]);\n\nvar OrderList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(OrderList, _React$Component);\n\n  function OrderList() {\n    _classCallCheck(this, OrderList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(OrderList).apply(this, arguments));\n  }\n\n  _createClass(OrderList, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(WidthStyles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, __jsx(Query, {\n        query: USER_ORDERS_QUERY,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, function (_ref) {\n        var _ref$data$orders = _ref.data.orders,\n            orders = _ref$data$orders === void 0 ? \"\" : _ref$data$orders,\n            loading = _ref.loading,\n            error = _ref.error;\n        if (loading) return __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Loading...\");\n        if (error) return __jsx(Error, {\n          error: error,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        });\n        return __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, __jsx(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"You have \", orders.length, \" orders\"), __jsx(OrderUl, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, orders.map(function (order) {\n          return __jsx(OrderItemStyles, {\n            key: order.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, __jsx(Link, {\n            href: {\n              pathname: \"/order\",\n              query: {\n                id: order.id\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, __jsx(\"a\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            className: \"order-meta\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, __jsx(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, order.items.reduce(function (item, tally) {\n            return item + tally.quantity;\n          }, 0), \" \", \"Items\"), __jsx(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, order.items.length, \" Products\"), __jsx(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, formatDistance(parseISO(order.createdAt), new Date())), __jsx(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }, formatMoney(order.total))), __jsx(\"div\", {\n            className: \"images\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, order.items.map(function (item) {\n            return __jsx(\"img\", {\n              key: item.id,\n              src: item.image,\n              alt: item.itlte,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77\n              },\n              __self: this\n            });\n          }), \" \"))));\n        })));\n      }));\n    }\n  }]);\n\n  return OrderList;\n}(React.Component);\n\nexport { OrderList as default };","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/OrderList.js"],"names":["React","Query","formatDistance","parseISO","gql","Link","styled","formatMoney","OrderItemStyles","Error","WidthStyles","USER_ORDERS_QUERY","OrderUl","ul","OrderList","data","orders","loading","error","length","map","order","id","pathname","query","items","reduce","item","tally","quantity","createdAt","Date","total","image","itlte","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport parseISO from \"date-fns/parseISO\";\r\nimport gql from \"graphql-tag\";\r\nimport Link from \"next/link\";\r\nimport styled from \"styled-components\";\r\nimport formatMoney from \"../lib/formatMoney\";\r\nimport OrderItemStyles from \"./styles/OrderItemStyles\";\r\nimport Error from \"./ErrorMessage\";\r\nimport WidthStyles from \"./styles/WidthStyles\";\r\n\r\nconst USER_ORDERS_QUERY = gql`\r\n  query USER_ORDERS_QUERY {\r\n    orders(orderBy: createdAt_DESC) {\r\n      id\r\n      total\r\n      createdAt\r\n      items {\r\n        id\r\n        title\r\n        price\r\n        description\r\n        quantity\r\n        image\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst OrderUl = styled.ul`\r\n  display: grid;\r\n  grid-gap: 4rem;\r\n  grid-template-columns: repeat(auto-fit, minmax(40%, 1fr));\r\n`;\r\n\r\nexport default class OrderList extends React.Component {\r\n  render() {\r\n    return (\r\n      <WidthStyles>\r\n        <Query query={USER_ORDERS_QUERY}>\r\n          {({ data: { orders = \"\" }, loading, error }) => {\r\n            if (loading) return <p>Loading...</p>;\r\n            if (error) return <Error error={error} />;\r\n            return (\r\n              <div>\r\n                <h2>You have {orders.length} orders</h2>\r\n                <OrderUl>\r\n                  {orders.map(order => (\r\n                    <OrderItemStyles key={order.id}>\r\n                      <Link\r\n                        href={{\r\n                          pathname: \"/order\",\r\n                          query: { id: order.id }\r\n                        }}\r\n                      >\r\n                        <a>\r\n                          <div className=\"order-meta\">\r\n                            <p>\r\n                              {order.items.reduce(\r\n                                (item, tally) => item + tally.quantity,\r\n                                0\r\n                              )}{\" \"}\r\n                              Items\r\n                            </p>\r\n                            <p>{order.items.length} Products</p>\r\n                            <p>\r\n                              {formatDistance(\r\n                                parseISO(order.createdAt),\r\n                                new Date()\r\n                              )}\r\n                            </p>\r\n                            <p>{formatMoney(order.total)}</p>\r\n                          </div>\r\n                          <div className=\"images\">\r\n                            {order.items.map(item => (\r\n                              <img\r\n                                key={item.id}\r\n                                src={item.image}\r\n                                alt={item.itlte}\r\n                              />\r\n                            ))}{\" \"}\r\n                          </div>\r\n                        </a>\r\n                      </Link>\r\n                    </OrderItemStyles>\r\n                  ))}\r\n                </OrderUl>\r\n              </div>\r\n            );\r\n          }}\r\n        </Query>\r\n      </WidthStyles>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}