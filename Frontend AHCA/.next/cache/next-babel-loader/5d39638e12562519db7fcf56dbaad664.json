{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\PromoCode.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation updatePriceAfterPromoCode($id: ID!, $promotion: String!) {\\n    updatePriceAfterPromoCode(id: $id, promotion: $promotion) {\\n      id\\n      promotionPrice\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { Query, Mutation } from \"react-apollo\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport gql from \"graphql-tag\";\nimport { Label, Input, Select, Textarea, Radio, Checkbox } from \"@rebass/forms\";\nimport { Flex, Heading, Box, Button } from \"rebass\";\n\nvar _useState = useState(\"\"),\n    promoState = _useState[0],\n    setPromoState = _useState[1];\n\nvar VALIDATE_APPLY_PROMO_CODE = gql(_templateObject());\n\nvar PromoCode = function PromoCode(props, _ref) {\n  var id = _ref.id;\n  return __jsx(React.Fragment, null, __jsx(Query, {\n    query: CURRENT_USER_QUERY,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading;\n    return __jsx(Mutation, {\n      mutation: VALIDATE_APPLY_PROMO_CODE,\n      variables: {\n        id: id,\n        promotion: promotion\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, function (updatePriceAfterPromoCode, _ref3) {\n      var loading = _ref3.loading,\n          error = _ref3.error;\n      return __jsx(Box, {\n        as: \"form\",\n        onSubmit: function _callee(e) {\n          var res;\n          return _regeneratorRuntime.async(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  e.preventDefault();\n                  _context.next = 3;\n                  return _regeneratorRuntime.awrap(updatePriceAfterPromoCode());\n\n                case 3:\n                  res = _context.sent;\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          });\n        },\n        pl: pleft,\n        py: 3,\n        width: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, __jsx(Heading, {\n        pcolor: \"near-black\",\n        fontSize: [4, 5, 6],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Do you have a promo code?\"), __jsx(Flex, {\n        flexWrap: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(Box, {\n        width: wconst,\n        mx: maround,\n        pl: pleft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(Label, {\n        htmlFor: \"promo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Promo Code\"), __jsx(Input, {\n        id: \"promo\",\n        name: \"promo\",\n        type: \"text\",\n        placeholder: \"Promo Code\",\n        value: promoState,\n        onChange: function _callee2(e) {\n          return _regeneratorRuntime.async(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  setPromoState(e.target.value);\n\n                case 1:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }))), __jsx(Flex, {\n        mx: -2,\n        flexWrap: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, __jsx(Box, {\n        p: 2,\n        ml: \"[3, 4, 5, 6]\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, __jsx(Button, {\n        type: \"submit\",\n        bg: \"dark-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Submit\"))));\n    });\n  }));\n};\n\nexport default PromoCode;","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/PromoCode.js"],"names":["React","useState","Query","Mutation","CURRENT_USER_QUERY","gql","Label","Input","Select","Textarea","Radio","Checkbox","Flex","Heading","Box","Button","promoState","setPromoState","VALIDATE_APPLY_PROMO_CODE","PromoCode","props","id","data","loading","promotion","updatePriceAfterPromoCode","error","e","preventDefault","res","pleft","wconst","maround","target","value"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,cAAhC;AACA,SAASC,kBAAT,QAAmC,QAAnC;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,KAAT,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,QAA/B,EAAyCC,KAAzC,EAAgDC,QAAhD,QAAgE,eAAhE;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,GAAxB,EAA6BC,MAA7B,QAA2C,QAA3C;;gBAEoCd,QAAQ,CAAC,EAAD,C;IAArCe,U;IAAYC,a;;AAEnB,IAAMC,yBAAyB,GAAGb,GAAH,mBAA/B;;AASA,IAAMc,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,QAAmB;AAAA,MAATC,EAAS,QAATA,EAAS;AACnC,SACE,4BACE,MAAC,KAAD;AAAO,IAAA,KAAK,EAAEjB,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,iBAAuB;AAAA,QAApBkB,IAAoB,SAApBA,IAAoB;AAAA,QAAdC,OAAc,SAAdA,OAAc;AACtB,WACE,MAAC,QAAD;AACE,MAAA,QAAQ,EAAEL,yBADZ;AAEE,MAAA,SAAS,EAAE;AAAEG,QAAAA,EAAE,EAAFA,EAAF;AAAMG,QAAAA,SAAS,EAATA;AAAN,OAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG,UAACC,yBAAD,SAAmD;AAAA,UAArBF,OAAqB,SAArBA,OAAqB;AAAA,UAAZG,KAAY,SAAZA,KAAY;AAClD,aACE,MAAC,GAAD;AACE,QAAA,EAAE,EAAC,MADL;AAEE,QAAA,QAAQ,EAAE,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACRA,kBAAAA,CAAC,CAACC,cAAF;AADQ;AAAA,mDAEUH,yBAAyB,EAFnC;;AAAA;AAEFI,kBAAAA,GAFE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFZ;AAME,QAAA,EAAE,EAAEC,KANN;AAOE,QAAA,EAAE,EAAE,CAPN;AAQE,QAAA,KAAK,EAAE,CART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUE,MAAC,OAAD;AAAS,QAAA,MAAM,EAAC,YAAhB;AAA6B,QAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAVF,EAaE,MAAC,IAAD;AAAM,QAAA,QAAQ,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,GAAD;AAAK,QAAA,KAAK,EAAEC,MAAZ;AAAoB,QAAA,EAAE,EAAEC,OAAxB;AAAiC,QAAA,EAAE,EAAEF,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,KAAD;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,MAAC,KAAD;AACE,QAAA,EAAE,EAAC,OADL;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,IAAI,EAAC,MAHP;AAIE,QAAA,WAAW,EAAC,YAJd;AAKE,QAAA,KAAK,EAAEd,UALT;AAME,QAAA,QAAQ,EAAE,kBAAMW,CAAN;AAAA;AAAA;AAAA;AAAA;AACRV,kBAAAA,aAAa,CAACU,CAAC,CAACM,MAAF,CAASC,KAAV,CAAb;;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,CAbF,EA4BE,MAAC,IAAD;AAAM,QAAA,EAAE,EAAE,CAAC,CAAX;AAAc,QAAA,QAAQ,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,GAAD;AAAK,QAAA,CAAC,EAAE,CAAR;AAAW,QAAA,EAAE,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,EAAE,EAAC,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CA5BF,CADF;AAsCD,KA3CH,CADF;AA+CD,GAjDH,CADF,CADF;AAuDD,CAxDD;;AA0DA,eAAef,SAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Query, Mutation } from \"react-apollo\";\r\nimport { CURRENT_USER_QUERY } from \"./User\";\r\nimport gql from \"graphql-tag\";\r\nimport { Label, Input, Select, Textarea, Radio, Checkbox } from \"@rebass/forms\";\r\nimport { Flex, Heading, Box, Button } from \"rebass\";\r\n\r\nconst [promoState, setPromoState] = useState(\"\");\r\n\r\nconst VALIDATE_APPLY_PROMO_CODE = gql`\r\n  mutation updatePriceAfterPromoCode($id: ID!, $promotion: String!) {\r\n    updatePriceAfterPromoCode(id: $id, promotion: $promotion) {\r\n      id\r\n      promotionPrice\r\n    }\r\n  }\r\n`;\r\n\r\nconst PromoCode = (props, { id }) => {\r\n  return (\r\n    <>\r\n      <Query query={CURRENT_USER_QUERY}>\r\n        {({ data, loading }) => {\r\n          return (\r\n            <Mutation\r\n              mutation={VALIDATE_APPLY_PROMO_CODE}\r\n              variables={{ id, promotion }}\r\n            >\r\n              {(updatePriceAfterPromoCode, { loading, error }) => {\r\n                return (\r\n                  <Box\r\n                    as=\"form\"\r\n                    onSubmit={async e => {\r\n                      e.preventDefault();\r\n                      const res = await updatePriceAfterPromoCode();\r\n                    }}\r\n                    pl={pleft}\r\n                    py={3}\r\n                    width={1}\r\n                  >\r\n                    <Heading pcolor=\"near-black\" fontSize={[4, 5, 6]}>\r\n                      Do you have a promo code?\r\n                    </Heading>\r\n                    <Flex flexWrap=\"wrap\">\r\n                      <Box width={wconst} mx={maround} pl={pleft}>\r\n                        <Label htmlFor=\"promo\">Promo Code</Label>\r\n                        <Input\r\n                          id=\"promo\"\r\n                          name=\"promo\"\r\n                          type=\"text\"\r\n                          placeholder=\"Promo Code\"\r\n                          value={promoState}\r\n                          onChange={async e => {\r\n                            setPromoState(e.target.value);\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    </Flex>\r\n                    <Flex mx={-2} flexWrap=\"wrap\">\r\n                      <Box p={2} ml=\"[3, 4, 5, 6]\">\r\n                        <Button type=\"submit\" bg=\"dark-green\">\r\n                          Submit\r\n                        </Button>\r\n                      </Box>\r\n                    </Flex>\r\n                  </Box>\r\n                );\r\n              }}\r\n            </Mutation>\r\n          );\r\n        }}\r\n      </Query>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PromoCode;\r\n"]},"metadata":{},"sourceType":"module"}