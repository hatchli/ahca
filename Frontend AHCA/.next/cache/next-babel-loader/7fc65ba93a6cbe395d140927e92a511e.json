{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\Hero.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation CREATE_GUEST_MUTATION(\\n    $email: String\\n    $name: String\\n    $password: String\\n  ) {\\n    createGuest(email: $email, name: $name, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport Map from \"./Map\";\nimport QuadFeature from \"./QuadFeature\";\nimport { Lead } from \"./Lead\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"../components/User\";\nimport User from \"../components/User\";\nvar CREATE_GUEST_MUTATION = gql(_templateObject());\n\nvar Hero = function Hero(props, _ref) {\n  var id = _ref.id;\n  return __jsx(User, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading;\n    var me = data ? data.me : null;\n    var guest = me === null ? true : false;\n\n    var _useState = useState(guest),\n        guestState = _useState[0],\n        setGuestState = _useState[1];\n\n    return !guest ? __jsx(React.Fragment, null, __jsx(Lead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), __jsx(Map, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), __jsx(QuadFeature, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    })) : loading ? __jsx(React.Fragment, null, __jsx(Lead, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), __jsx(Map, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), __jsx(QuadFeature, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    })) : __jsx(Mutation, {\n      mutation: CREATE_GUEST_MUTATION,\n      variables: {\n        id: id\n      },\n      refetchQueries: [{\n        query: CURRENT_USER_QUERY\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, function (createGuest, _ref3) {\n      var loading = _ref3.loading,\n          error = _ref3.error;\n      useEffect(function () {\n        function fetchData() {\n          return _regeneratorRuntime.async(function fetchData$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return _regeneratorRuntime.awrap(createGuest());\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          });\n        }\n\n        !loading && guest && fetchData();\n      }, []);\n      setGuestState(false);\n      return __jsx(React.Fragment, null, __jsx(React.Fragment, null, __jsx(Lead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), __jsx(Map, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), __jsx(QuadFeature, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })));\n    });\n  });\n};\n\nexport default Hero;","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/Hero.js"],"names":["React","useState","useEffect","Map","QuadFeature","Lead","Mutation","gql","CURRENT_USER_QUERY","User","CREATE_GUEST_MUTATION","Hero","props","id","data","loading","me","guest","guestState","setGuestState","query","createGuest","error","fetchData"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,kBAAT,QAAmC,oBAAnC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,IAAMC,qBAAqB,GAAGH,GAAH,mBAA3B;;AAcA,IAAMI,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD;AAAA,MAAUC,EAAV,QAAUA,EAAV;AAAA,SACX,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,iBAAuB;AAAA,QAApBC,IAAoB,SAApBA,IAAoB;AAAA,QAAdC,OAAc,SAAdA,OAAc;AACtB,QAAIC,EAAE,GAAGF,IAAI,GAAGA,IAAI,CAACE,EAAR,GAAa,IAA1B;AACA,QAAIC,KAAK,GAAGD,EAAE,KAAK,IAAP,GAAc,IAAd,GAAqB,KAAjC;;AAFsB,oBAGcf,QAAQ,CAACgB,KAAD,CAHtB;AAAA,QAGfC,UAHe;AAAA,QAGHC,aAHG;;AAItB,WAAO,CAACF,KAAD,GACL,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADK,GAMHF,OAAO,GACT,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADS,GAOT,MAAC,QAAD;AACE,MAAA,QAAQ,EAAEL,qBADZ;AAEE,MAAA,SAAS,EAAE;AAAEG,QAAAA,EAAE,EAAFA;AAAF,OAFb;AAGE,MAAA,cAAc,EAAE,CAAC;AAAEO,QAAAA,KAAK,EAAEZ;AAAT,OAAD,CAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,UAACa,WAAD,SAAqC;AAAA,UAArBN,OAAqB,SAArBA,OAAqB;AAAA,UAAZO,KAAY,SAAZA,KAAY;AACpCpB,MAAAA,SAAS,CAAC,YAAM;AACd,iBAAeqB,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDACQF,WAAW,EADnB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAGA,SAACN,OAAD,IAAYE,KAAZ,IAAqBM,SAAS,EAA9B;AACD,OALQ,EAKN,EALM,CAAT;AAMAJ,MAAAA,aAAa,CAAC,KAAD,CAAb;AACA,aACE,4BACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CADF,CADF;AASD,KAtBH,CAbF;AAsCD,GA3CH,CADW;AAAA,CAAb;;AAgDA,eAAeR,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Map from \"./Map\";\r\nimport QuadFeature from \"./QuadFeature\";\r\nimport { Lead } from \"./Lead\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport { CURRENT_USER_QUERY } from \"../components/User\";\r\nimport User from \"../components/User\";\r\n\r\nconst CREATE_GUEST_MUTATION = gql`\r\n  mutation CREATE_GUEST_MUTATION(\r\n    $email: String\r\n    $name: String\r\n    $password: String\r\n  ) {\r\n    createGuest(email: $email, name: $name, password: $password) {\r\n      id\r\n      email\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst Hero = (props, { id }) => (\r\n  <User>\r\n    {({ data, loading }) => {\r\n      let me = data ? data.me : null;\r\n      let guest = me === null ? true : false;\r\n      const [guestState, setGuestState] = useState(guest);\r\n      return !guest ? (\r\n        <>\r\n          <Lead />\r\n          <Map />\r\n          <QuadFeature />\r\n        </>\r\n      ) : loading ? (\r\n        <>\r\n          <Lead />\r\n          <Map />\r\n          <QuadFeature />\r\n        </>\r\n      ) : (\r\n        <Mutation\r\n          mutation={CREATE_GUEST_MUTATION}\r\n          variables={{ id }}\r\n          refetchQueries={[{ query: CURRENT_USER_QUERY }]}\r\n        >\r\n          {(createGuest, { loading, error }) => {\r\n            useEffect(() => {\r\n              async function fetchData() {\r\n                await createGuest();\r\n              }\r\n              !loading && guest && fetchData();\r\n            }, []);\r\n            setGuestState(false);\r\n            return (\r\n              <>\r\n                <>\r\n                  <Lead />\r\n                  <Map />\r\n                  <QuadFeature />\r\n                </>\r\n              </>\r\n            );\r\n          }}\r\n        </Mutation>\r\n      );\r\n    }}\r\n  </User>\r\n);\r\n\r\nexport default Hero;\r\n"]},"metadata":{},"sourceType":"module"}