{"ast":null,"code":"import _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\pages\\\\shop.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation CREATE_GUEST_MUTATION(\\n    $email: String\\n    $name: String\\n    $password: String\\n  ) {\\n    createGuest(email: $email, name: $name, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport Items from \"../components/Items\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"../components/User\";\nimport User from \"../components/User\";\nvar CREATE_GUEST_MUTATION = gql(_templateObject());\n\nvar Shop = function Shop(props, _ref) {\n  var id = _ref.id;\n  return __jsx(User, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data;\n    var me = data ? data.me : null;\n    var guest = me === null ? true : false;\n\n    var _useState = useState(false),\n        guestState = _useState[0],\n        setGuestState = _useState[1];\n\n    return !guest ? __jsx(React.Fragment, null, __jsx(Items, {\n      page: _parseFloat(props.query.page) || 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    })) : __jsx(Mutation, {\n      mutation: CREATE_GUEST_MUTATION,\n      variables: {\n        id: id\n      },\n      refetchQueries: [{\n        query: CURRENT_USER_QUERY\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, function (createGuest, _ref3) {\n      var loading = _ref3.loading,\n          error = _ref3.error;\n      return __jsx(React.Fragment, null, function () {\n        return setGuestState(true);\n      }, __jsx(Items, {\n        page: _parseFloat(props.query.page) || 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }));\n    });\n  });\n};\n\nexport default Shop;","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/pages/shop.js"],"names":["React","useState","useEffect","Items","Mutation","gql","CURRENT_USER_QUERY","User","CREATE_GUEST_MUTATION","Shop","props","id","data","me","guest","guestState","setGuestState","query","page","createGuest","loading","error"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,kBAAT,QAAmC,oBAAnC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,IAAMC,qBAAqB,GAAGH,GAAH,mBAA3B;;AAcA,IAAMI,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD;AAAA,MAAUC,EAAV,QAAUA,EAAV;AAAA,SACX,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,iBAAc;AAAA,QAAXC,IAAW,SAAXA,IAAW;AACb,QAAIC,EAAE,GAAGD,IAAI,GAAGA,IAAI,CAACC,EAAR,GAAa,IAA1B;AACA,QAAIC,KAAK,GAAGD,EAAE,KAAK,IAAP,GAAc,IAAd,GAAqB,KAAjC;;AAFa,oBAGuBZ,QAAQ,CAAC,KAAD,CAH/B;AAAA,QAGNc,UAHM;AAAA,QAGMC,aAHN;;AAIb,WAAO,CAACF,KAAD,GACL,4BACE,MAAC,KAAD;AAAO,MAAA,IAAI,EAAE,YAAWJ,KAAK,CAACO,KAAN,CAAYC,IAAvB,KAAgC,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADK,GAKL,MAAC,QAAD;AACE,MAAA,QAAQ,EAAEV,qBADZ;AAEE,MAAA,SAAS,EAAE;AAAEG,QAAAA,EAAE,EAAFA;AAAF,OAFb;AAGE,MAAA,cAAc,EAAE,CAAC;AAAEM,QAAAA,KAAK,EAAEX;AAAT,OAAD,CAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,UAACa,WAAD,SAAqC;AAAA,UAArBC,OAAqB,SAArBA,OAAqB;AAAA,UAAZC,KAAY,SAAZA,KAAY;AACpC,aACE,4BACG;AAAA,eAAML,aAAa,CAAC,IAAD,CAAnB;AAAA,OADH,EAEE,MAAC,KAAD;AAAO,QAAA,IAAI,EAAE,YAAWN,KAAK,CAACO,KAAN,CAAYC,IAAvB,KAAgC,CAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD,KAZH,CALF;AAoBD,GAzBH,CADW;AAAA,CAAb;;AA8BA,eAAeT,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Items from \"../components/Items\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport { CURRENT_USER_QUERY } from \"../components/User\";\r\nimport User from \"../components/User\";\r\n\r\nconst CREATE_GUEST_MUTATION = gql`\r\n  mutation CREATE_GUEST_MUTATION(\r\n    $email: String\r\n    $name: String\r\n    $password: String\r\n  ) {\r\n    createGuest(email: $email, name: $name, password: $password) {\r\n      id\r\n      email\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst Shop = (props, { id }) => (\r\n  <User>\r\n    {({ data }) => {\r\n      let me = data ? data.me : null;\r\n      let guest = me === null ? true : false;\r\n      const [guestState, setGuestState] = useState(false);\r\n      return !guest ? (\r\n        <>\r\n          <Items page={parseFloat(props.query.page) || 1} />\r\n        </>\r\n      ) : (\r\n        <Mutation\r\n          mutation={CREATE_GUEST_MUTATION}\r\n          variables={{ id }}\r\n          refetchQueries={[{ query: CURRENT_USER_QUERY }]}\r\n        >\r\n          {(createGuest, { loading, error }) => {\r\n            return (\r\n              <>\r\n                {() => setGuestState(true)}\r\n                <Items page={parseFloat(props.query.page) || 1} />\r\n              </>\r\n            );\r\n          }}\r\n        </Mutation>\r\n      );\r\n    }}\r\n  </User>\r\n);\r\n\r\nexport default Shop;\r\n"]},"metadata":{},"sourceType":"module"}