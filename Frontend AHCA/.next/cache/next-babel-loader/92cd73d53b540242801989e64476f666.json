{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\Map.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport MapGL, { LinearInterpolator, GeolocateControl } from \"react-map-gl\";\nimport WebMercatorViewport from \"viewport-mercator-project\";\nimport bbox from \"@turf/bbox\";\nimport ControlPanel from \"./ControlPanel\";\nimport MAP_STYLE from \"./styles/MapStyles\";\nimport { Box, Flex } from \"rebass\"; // import MAP_STYLE from 'https://api.mapbox.com/styles/v1/mapbox/light-v9.html?title=false&access_token=pk.eyJ1IjoibXNsZWUiLCJhIjoiclpiTWV5SSJ9.P_h8r37vD8jpIH1A6i1VRg#7.75/33.997/-116.72'\n\nimport LocationCard from \"./LocationCard\";\nvar TOKEN = \"pk.eyJ1Ijoid2xlZXMiLCJhIjoiY2s0YnBoZDQzMGZ6bjNudXFiMmkwbHRsMCJ9.vej5vu3WZhr9AEHiNPrVow\"; // Set your mapbox token here\n\nvar geolocateStyle = {\n  position: \"absolute\",\n  top: 0,\n  left: 0,\n  margin: 10\n};\n\nvar Map =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Map, _Component);\n\n  function Map(props) {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_updateViewport\", function (viewport) {\n      _this.setState({\n        viewport: viewport\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (event) {\n      var countyName = \"\";\n      var clickInfo = null;\n      var county = event.features[0];\n      var feature = event.features[0];\n\n      if (county) {\n        clickInfo = {\n          lngLat: event.lngLat,\n          county: county.properties\n        };\n        countyName = clickInfo.county.name;\n      }\n\n      if (feature) {\n        // calculate the bounding box of the feature\n        var _bbox = bbox(feature),\n            _bbox2 = _slicedToArray(_bbox, 4),\n            minLng = _bbox2[0],\n            minLat = _bbox2[1],\n            maxLng = _bbox2[2],\n            maxLat = _bbox2[3]; // construct a viewport instance from the current state\n\n\n        var viewport = new WebMercatorViewport(_this.state.viewport);\n\n        var _viewport$fitBounds = viewport.fitBounds([[minLng, minLat], [maxLng, maxLat]], {\n          padding: 0,\n          zoom: 7\n        }),\n            longitude = _viewport$fitBounds.longitude,\n            latitude = _viewport$fitBounds.latitude,\n            zoom = _viewport$fitBounds.zoom;\n\n        console.log(zoom);\n\n        _this.setState({\n          county: countyName,\n          clickInfo: clickInfo,\n          viewport: _objectSpread({}, _this.state.viewport, {\n            longitude: longitude,\n            latitude: latitude,\n            zoom: zoom,\n            transitionInterpolator: new LinearInterpolator({\n              around: [event.offsetCenter.x, event.offsetCenter.y]\n            }),\n            transitionDuration: 1000\n          })\n        });\n      }\n    });\n\n    _this.state = {\n      county: \"Select Your Location on the Map!\",\n      viewport: {\n        latitude: 34.0537,\n        longitude: -118.243,\n        zoom: 7,\n        bearing: 0,\n        pitch: 0\n      },\n      popupInfo: null,\n      clickInfo: null\n    };\n    _this._map = React.createRef();\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"render\",\n    value: function render() {\n      var viewport = this.state.viewport;\n      var clickInfo = this.state.clickInfo;\n      var county = this.state.county;\n      var minZoom = 7;\n      return __jsx(Flex, {\n        flexWrap: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, __jsx(Box, {\n        width: [1, 1, 1 / 2],\n        minHeight: \"300px\",\n        minWidth: \"300px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, __jsx(MapGL, _extends({\n        ref: this._map,\n        mapStyle: MAP_STYLE,\n        interactiveLayerIds: [\"sf-neighborhoods-fill\"]\n      }, viewport, {\n        width: \"100%\",\n        height: \"100%\",\n        minZoom: minZoom,\n        minHeight: \"1vh\",\n        minWidth: \"1vh\",\n        onClick: this._onClick,\n        county: county // countyInfo={}\n        ,\n        onViewportChange: this._updateViewport,\n        mapboxApiAccessToken: TOKEN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), __jsx(ControlPanel, {\n        containerComponent: this.props.containerComponent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), __jsx(GeolocateControl, {\n        style: geolocateStyle,\n        positionOptions: {\n          enableHighAccuracy: true\n        },\n        trackUserLocation: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), __jsx(Box, {\n        px: 3,\n        width: [1, 1, 1 / 2],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, __jsx(LocationCard, {\n        county: county,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Map;\n}(Component);\n\nexport { Map as default };","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/Map.js"],"names":["React","Component","MapGL","LinearInterpolator","GeolocateControl","WebMercatorViewport","bbox","ControlPanel","MAP_STYLE","Box","Flex","LocationCard","TOKEN","geolocateStyle","position","top","left","margin","Map","props","viewport","setState","event","countyName","clickInfo","county","features","feature","lngLat","properties","name","minLng","minLat","maxLng","maxLat","state","fitBounds","padding","zoom","longitude","latitude","console","log","transitionInterpolator","around","offsetCenter","x","y","transitionDuration","bearing","pitch","popupInfo","_map","createRef","minZoom","_onClick","_updateViewport","containerComponent","enableHighAccuracy"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport MapGL, { LinearInterpolator, GeolocateControl } from \"react-map-gl\";\r\nimport WebMercatorViewport from \"viewport-mercator-project\";\r\nimport bbox from \"@turf/bbox\";\r\n\r\nimport ControlPanel from \"./ControlPanel\";\r\nimport MAP_STYLE from \"./styles/MapStyles\";\r\nimport { Box, Flex } from \"rebass\";\r\n// import MAP_STYLE from 'https://api.mapbox.com/styles/v1/mapbox/light-v9.html?title=false&access_token=pk.eyJ1IjoibXNsZWUiLCJhIjoiclpiTWV5SSJ9.P_h8r37vD8jpIH1A6i1VRg#7.75/33.997/-116.72'\r\nimport LocationCard from \"./LocationCard\";\r\n\r\nconst TOKEN =\r\n  \"pk.eyJ1Ijoid2xlZXMiLCJhIjoiY2s0YnBoZDQzMGZ6bjNudXFiMmkwbHRsMCJ9.vej5vu3WZhr9AEHiNPrVow\"; // Set your mapbox token here\r\n\r\nconst geolocateStyle = {\r\n  position: \"absolute\",\r\n  top: 0,\r\n  left: 0,\r\n  margin: 10\r\n};\r\n\r\nexport default class Map extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      county: \"Select Your Location on the Map!\",\r\n      viewport: {\r\n        latitude: 34.0537,\r\n        longitude: -118.243,\r\n        zoom: 7,\r\n        bearing: 0,\r\n        pitch: 0\r\n      },\r\n      popupInfo: null,\r\n      clickInfo: null\r\n    };\r\n\r\n    this._map = React.createRef();\r\n  }\r\n\r\n  _updateViewport = viewport => {\r\n    this.setState({ viewport });\r\n  };\r\n\r\n  _onClick = event => {\r\n    let countyName = \"\";\r\n    let clickInfo = null;\r\n    let county = event.features[0];\r\n    let feature = event.features[0];\r\n\r\n    if (county) {\r\n      clickInfo = {\r\n        lngLat: event.lngLat,\r\n        county: county.properties\r\n      };\r\n      countyName = clickInfo.county.name;\r\n    }\r\n    if (feature) {\r\n      // calculate the bounding box of the feature\r\n      const [minLng, minLat, maxLng, maxLat] = bbox(feature);\r\n      // construct a viewport instance from the current state\r\n      const viewport = new WebMercatorViewport(this.state.viewport);\r\n      const { longitude, latitude, zoom } = viewport.fitBounds(\r\n        [\r\n          [minLng, minLat],\r\n          [maxLng, maxLat]\r\n        ],\r\n        {\r\n          padding: 0,\r\n          zoom: 7\r\n        }\r\n      );\r\n      console.log(zoom);\r\n\r\n      this.setState({\r\n        county: countyName,\r\n        clickInfo,\r\n        viewport: {\r\n          ...this.state.viewport,\r\n          longitude,\r\n          latitude,\r\n          zoom,\r\n          transitionInterpolator: new LinearInterpolator({\r\n            around: [event.offsetCenter.x, event.offsetCenter.y]\r\n          }),\r\n          transitionDuration: 1000\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { viewport } = this.state;\r\n    const { clickInfo } = this.state;\r\n    const { county } = this.state;\r\n    let minZoom = 7;\r\n\r\n    return (\r\n      <Flex flexWrap=\"wrap\">\r\n        <Box width={[1, 1, 1 / 2]} minHeight=\"300px\" minWidth=\"300px\">\r\n          <MapGL\r\n            ref={this._map}\r\n            mapStyle={MAP_STYLE}\r\n            interactiveLayerIds={[\"sf-neighborhoods-fill\"]}\r\n            {...viewport}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            minZoom={minZoom}\r\n            minHeight=\"1vh\"\r\n            minWidth=\"1vh\"\r\n            onClick={this._onClick}\r\n            county={county}\r\n            // countyInfo={}\r\n            onViewportChange={this._updateViewport}\r\n            mapboxApiAccessToken={TOKEN}\r\n          >\r\n            <ControlPanel containerComponent={this.props.containerComponent} />\r\n            <GeolocateControl\r\n              style={geolocateStyle}\r\n              positionOptions={{ enableHighAccuracy: true }}\r\n              trackUserLocation={true}\r\n            />\r\n          </MapGL>\r\n        </Box>\r\n        <Box px={3} width={[1, 1, 1 / 2]}>\r\n          <LocationCard county={county} />\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}