{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport User from \"./User\";\nimport { Button } from \"rebass\";\nconst ADD_TO_CART_MUTATION = gql`\n  mutation addToCart($id: ID!) {\n    addToCart(id: $id) {\n      id\n      quantity\n    }\n  }\n`;\nconst pleft = [3, 4, 5, 6];\nconst CREATE_GUEST_MUTATION = gql`\n  mutation CREATE_GUEST_MUTATION(\n    $email: String\n    $name: String\n    $password: String\n  ) {\n    createGuest(email: $email, name: $name, password: $password) {\n      id\n      email\n      name\n    }\n  }\n`;\n\nconst AddToCart = (props, {\n  id\n}) => __jsx(User, null, ({\n  data\n}) => {\n  const {\n    id\n  } = props;\n  let me = data ? data.me : null;\n  let guest = me === null ? true : false;\n  return !guest ? __jsx(Mutation, {\n    mutation: ADD_TO_CART_MUTATION,\n    variables: {\n      id\n    },\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }]\n  }, (addToCart, {\n    loading,\n    error\n  }) => {\n    console.log(\"id of item\", id);\n    return __jsx(Button, _extends({}, props, {\n      width: [256, 512],\n      sx: {\n        bg: \"dark-green\",\n        color: \"white\",\n        borderRadius: [2, 3],\n        cursor: \"pointer\" // m: [3, 4]\n\n      } // ml={pleft}\n      ,\n      onClick: addToCart\n    }), \"Add\", loading && `ing`, \" to Cart \\uD83D\\uDED2\", \" \");\n  }) : __jsx(Mutation, {\n    mutation: CREATE_GUEST_MUTATION,\n    variables: {\n      id\n    },\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }]\n  }, (createGuest, {\n    loading,\n    error\n  }) => {\n    return __jsx(Button, _extends({}, props, {\n      sx: {\n        bg: \"dark-green\",\n        color: \"white\",\n        borderRadius: \"1\"\n      },\n      ml: pleft,\n      onClick: createGuest\n    }), \"Add\", loading && `ing`, \" to Cart \\uD83D\\uDED2\", \" \");\n  });\n});\n\nexport default AddToCart;\nexport { ADD_TO_CART_MUTATION };","map":null,"metadata":{},"sourceType":"module"}