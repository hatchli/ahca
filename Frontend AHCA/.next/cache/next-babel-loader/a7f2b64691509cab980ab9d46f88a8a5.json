{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Wade\\\\Documents\\\\AHCA Web\\\\Frontend AHCA\\\\components\\\\PromoCode.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Query, Mutation } from \"react-apollo\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport gql from \"graphql-tag\";\nimport { Label, Input, Select, Textarea, Radio, Checkbox } from \"@rebass/forms\";\nimport { Flex, Heading, Box, Button } from \"rebass\";\nconst VALIDATE_APPLY_PROMO_CODE = gql`\n  mutation updatePriceAfterPromoCode($id: ID!, $promotion: String!) {\n    updatePriceAfterPromoCode(id: $id, promotion: $promotion) {\n      id\n      promotionPrice\n    }\n  }\n`;\n\nconst PromoCode = (props, {\n  id\n}) => {\n  const {\n    0: promoState,\n    1: setPromoState\n  } = useState(\"\");\n  return __jsx(React.Fragment, null, __jsx(Query, {\n    query: CURRENT_USER_QUERY,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, ({\n    data,\n    loading\n  }) => {\n    return __jsx(Mutation, {\n      mutation: VALIDATE_APPLY_PROMO_CODE,\n      variables: {\n        id,\n        promotion\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, (updatePriceAfterPromoCode, {\n      loading,\n      error\n    }) => {\n      return __jsx(Box, {\n        as: \"form\",\n        onSubmit: async e => {\n          e.preventDefault();\n          const res = await updatePriceAfterPromoCode();\n        },\n        pl: pleft,\n        py: 3,\n        width: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, __jsx(Heading, {\n        pcolor: \"near-black\",\n        fontSize: [4, 5, 6],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"Do you have a promo code?\"), __jsx(Flex, {\n        flexWrap: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, __jsx(Box, {\n        width: wconst,\n        mx: maround,\n        pl: pleft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(Label, {\n        htmlFor: \"promo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"Promo Code\"), __jsx(Input, {\n        id: \"promo\",\n        name: \"promo\",\n        type: \"text\",\n        placeholder: \"Promo Code\",\n        value: promoState,\n        onChange: async e => {\n          setPromoState(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }))), __jsx(Flex, {\n        mx: -2,\n        flexWrap: \"wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, __jsx(Box, {\n        p: 2,\n        ml: \"[3, 4, 5, 6]\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, __jsx(Button, {\n        type: \"submit\",\n        bg: \"dark-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Submit\"))));\n    });\n  }));\n};\n\nexport default PromoCode;","map":{"version":3,"sources":["C:/Users/Wade/Documents/AHCA Web/Frontend AHCA/components/PromoCode.js"],"names":["React","useState","Query","Mutation","CURRENT_USER_QUERY","gql","Label","Input","Select","Textarea","Radio","Checkbox","Flex","Heading","Box","Button","VALIDATE_APPLY_PROMO_CODE","PromoCode","props","id","promoState","setPromoState","data","loading","promotion","updatePriceAfterPromoCode","error","e","preventDefault","res","pleft","wconst","maround","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Query, Mutation } from \"react-apollo\";\r\nimport { CURRENT_USER_QUERY } from \"./User\";\r\nimport gql from \"graphql-tag\";\r\nimport { Label, Input, Select, Textarea, Radio, Checkbox } from \"@rebass/forms\";\r\nimport { Flex, Heading, Box, Button } from \"rebass\";\r\n\r\nconst VALIDATE_APPLY_PROMO_CODE = gql`\r\n  mutation updatePriceAfterPromoCode($id: ID!, $promotion: String!) {\r\n    updatePriceAfterPromoCode(id: $id, promotion: $promotion) {\r\n      id\r\n      promotionPrice\r\n    }\r\n  }\r\n`;\r\n\r\nconst PromoCode = (props, { id }) => {\r\n  const [promoState, setPromoState] = useState(\"\");\r\n  return (\r\n    <>\r\n      <Query query={CURRENT_USER_QUERY}>\r\n        {({ data, loading }) => {\r\n          return (\r\n            <Mutation\r\n              mutation={VALIDATE_APPLY_PROMO_CODE}\r\n              variables={{ id, promotion }}\r\n            >\r\n              {(updatePriceAfterPromoCode, { loading, error }) => {\r\n                return (\r\n                  <Box\r\n                    as=\"form\"\r\n                    onSubmit={async e => {\r\n                      e.preventDefault();\r\n                      const res = await updatePriceAfterPromoCode();\r\n                    }}\r\n                    pl={pleft}\r\n                    py={3}\r\n                    width={1}\r\n                  >\r\n                    <Heading pcolor=\"near-black\" fontSize={[4, 5, 6]}>\r\n                      Do you have a promo code?\r\n                    </Heading>\r\n                    <Flex flexWrap=\"wrap\">\r\n                      <Box width={wconst} mx={maround} pl={pleft}>\r\n                        <Label htmlFor=\"promo\">Promo Code</Label>\r\n                        <Input\r\n                          id=\"promo\"\r\n                          name=\"promo\"\r\n                          type=\"text\"\r\n                          placeholder=\"Promo Code\"\r\n                          value={promoState}\r\n                          onChange={async e => {\r\n                            setPromoState(e.target.value);\r\n                          }}\r\n                        />\r\n                      </Box>\r\n                    </Flex>\r\n                    <Flex mx={-2} flexWrap=\"wrap\">\r\n                      <Box p={2} ml=\"[3, 4, 5, 6]\">\r\n                        <Button type=\"submit\" bg=\"dark-green\">\r\n                          Submit\r\n                        </Button>\r\n                      </Box>\r\n                    </Flex>\r\n                  </Box>\r\n                );\r\n              }}\r\n            </Mutation>\r\n          );\r\n        }}\r\n      </Query>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PromoCode;\r\n"]},"metadata":{},"sourceType":"module"}