{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation CREATE_GUEST_MUTATION(\\n    $email: String\\n    $name: String\\n    $password: String\\n  ) {\\n    createGuest(email: $email, name: $name, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation addToCart($id: ID!) {\\n    addToCart(id: $id) {\\n      id\\n      quantity\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from \"./User\";\nimport User from \"./User\";\nimport { Button } from \"rebass\";\nvar ADD_TO_CART_MUTATION = gql(_templateObject());\nvar pleft = [3, 4, 5, 6];\nvar CREATE_GUEST_MUTATION = gql(_templateObject2());\n\nvar AddToCart = function AddToCart(props, _ref) {\n  var id = _ref.id;\n  return __jsx(User, null, function (_ref2) {\n    var data = _ref2.data;\n    var id = props.id;\n    var me = data ? data.me : null;\n    var guest = me === null ? true : false;\n    return !guest ? __jsx(Mutation, {\n      mutation: ADD_TO_CART_MUTATION,\n      variables: {\n        id: id\n      },\n      refetchQueries: [{\n        query: CURRENT_USER_QUERY\n      }]\n    }, function (addToCart, _ref3) {\n      var loading = _ref3.loading,\n          error = _ref3.error;\n      console.log(\"id of item\", id);\n      return __jsx(Button, _extends({}, props, {\n        width: [256, 512],\n        sx: {\n          bg: \"dark-green\",\n          color: \"white\",\n          borderRadius: [2, 3],\n          cursor: \"pointer\" // m: [3, 4]\n\n        } // ml={pleft}\n        ,\n        onClick: addToCart\n      }), \"Add\", loading && \"ing\", \" to Cart \\uD83D\\uDED2\", \" \");\n    }) : __jsx(Mutation, {\n      mutation: CREATE_GUEST_MUTATION,\n      variables: {\n        id: id\n      },\n      refetchQueries: [{\n        query: CURRENT_USER_QUERY\n      }]\n    }, function (createGuest, _ref4) {\n      var loading = _ref4.loading,\n          error = _ref4.error;\n      return __jsx(Button, _extends({}, props, {\n        sx: {\n          bg: \"dark-green\",\n          color: \"white\",\n          borderRadius: \"1\"\n        },\n        ml: pleft,\n        onClick: createGuest\n      }), \"Add\", loading && \"ing\", \" to Cart \\uD83D\\uDED2\", \" \");\n    });\n  });\n};\n\nexport default AddToCart;\nexport { ADD_TO_CART_MUTATION };","map":null,"metadata":{},"sourceType":"module"}